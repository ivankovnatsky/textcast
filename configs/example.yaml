# Textcast Service Configuration Example
# Copy this file to your config directory and customize as needed

# Service settings
check_interval: 5m # Check external sources - REQUIRED time unit: 30s, 5m, 1h, 2d (no bare numbers)
log_level: INFO # DEBUG, INFO, WARNING, ERROR
log_file: /Volumes/Storage/Data/.textcast/logs/textcast-service.log # Optional: log to file

# Content sources to monitor
sources:
  # RSS feed monitoring (newsletters, blogs, etc.)
  - type: rss
    name: sreweekly
    enabled: false # Disabled until implemented
    url: https://sreweekly.com/feed
    check_duplicates: true
    processing_strategy: condense # Override global strategy for this source

  # YouTube channel monitoring
  - type: youtube
    name: serhii_sternenko
    enabled: false # Disabled until implemented
    # Use the modern YouTube handle (recommended)
    channel_handle: "@STERNENKO"
    # Alternative methods:
    # channel_handle: "https://www.youtube.com/@STERNENKO"  # Full URL also works
    # channel_id: UCxRaQKlwS6agoLPQ78DbqTQ  # If you know the channel ID
    download_dir: /Volumes/Storage/Data/Youtube/
    check_duplicates: true

  # Process URLs from existing files (legacy textcast workflow)
  # Note: File sources are monitored by file watchers (immediate response to changes)
  - type: file
    name: textcast_manual
    enabled: true
    file: /Volumes/Storage/Data/Textcast/Texts/Texts.txt
    check_duplicates: true

  # Process URLs from file for audio download and upload to Audiobookshelf
  # Downloads audio using yt-dlp and uploads directly to ABS (bypasses TTS)
  - type: upload_file_process
    name: audiobookshelf_upload_process
    enabled: true
    file: /Volumes/Storage/Data/Tmp/AudioBookShelf/List.txt
    check_duplicates: false

  # Upload directory monitoring (auto-upload audio files to Audiobookshelf)
  - type: upload
    name: audiobookshelf_upload
    enabled: true
    watch_dir: /Volumes/Storage/Data/AudioBookShelf
    file_patterns: ["*.mp3", "*.m4a", "*.wav", "*.flac"]
    check_duplicates: false # Not applicable for upload sources

  # Upload processed articles from textcast service
  - type: upload
    name: textcast_audio_upload
    enabled: true
    watch_dir: /Volumes/Storage/Data/Textcast/Audio
    file_patterns: ["*.mp3", "*.m4a", "*.wav", "*.flac"]
    check_duplicates: false # Not applicable for upload sources

# Text processing configuration (condensing)
text:
  provider: openai # API provider: openai, anthropic
  model: gpt-5.1 # Model for condensing (gpt-5.1, claude-sonnet-4-20250514, etc.)
  strategy: condense # Strategy: "condense" or "full"
  condense_ratio: 0.5 # Condense to 50% of original length

# Audio generation configuration (TTS)
audio:
  vendor: openai # TTS vendor: openai, elevenlabs
  model: tts-1-hd # TTS model: tts-1, tts-1-hd (openai); eleven_monolingual_v1 (elevenlabs)
  voice: nova # TTS voice: alloy, echo, fable, onyx, nova, shimmer (openai); Sarah (elevenlabs)
  format: mp3 # Output audio format: mp3, opus, aac, flac, pcm
  output_dir: /Volumes/Storage/Data/Textcast/Audio # Permanent audio storage directory

# Legacy processing configuration (deprecated, use text: and audio: instead)
# processing:
#   strategy: condense
#   condense_ratio: 0.5
#   text_model: gpt-5.1
#   speech_model: tts-1-hd
#   voice: nova
#   audio_format: mp3
#   output_dir: /Volumes/Storage/Data/Textcast/Audio
#   vendor: openai

# Audio file destinations (where processed audio is uploaded)
destinations:
  # Podservice destination for podcast feed uploads
  - type: podservice
    enabled: false
    url: "" # Set your podservice URL, e.g., http://192.168.50.7:8083

  # Audiobookshelf integration (automatic uploads)
  - type: audiobookshelf
    enabled: false
    url: "" # Set your ABS_URL environment variable instead
    api_key: "" # Set your ABS_API_KEY environment variable instead
    library_name: "" # Library name (empty = auto-select first library, or specify like "Podcasts")
    # Deprecated: library_id and folder_id (auto-detected)
    library_id: "" # Optional: Use if you want to specify library by UUID instead
    folder_id: "" # Optional: Auto-detected

# Web server for adding URLs via web interface
server:
  enabled: true # Enable web server
  host: 127.0.0.1 # Bind to localhost (use 0.0.0.0 for all interfaces)
  port: 8084 # Port to listen on
  base_url: "" # Optional: Override base URL (auto-generated if empty)
